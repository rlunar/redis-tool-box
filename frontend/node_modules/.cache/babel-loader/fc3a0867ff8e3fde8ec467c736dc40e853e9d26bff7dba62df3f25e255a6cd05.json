{"ast":null,"code":"var _jsxFileName = \"/home/y4n/React_Apps/tool-box/frontend/src/components/Monitor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Monitor() {\n  _s();\n  const [output, setOutput] = useState([]);\n  const [showCode, setShowCode] = useState(false);\n  useEffect(() => {\n    const ws = new WebSocket('ws://localhost:3001/monitor');\n    ws.onmessage = event => {\n      setOutput(JSON.parse(event.data));\n    };\n    return () => {\n      ws.close();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"column\",\n    children: [/*#__PURE__*/_jsxDEV(\"pre\", {\n      children: output.join('\\n')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '60%',\n        display: 'flex',\n        justifyContent: 'flex-start',\n        marginTop: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"code-button\",\n        onClick: toggleCode,\n        style: {\n          flex: 1\n        },\n        children: showCode ? \"Hide the Code\" : \"Show the Code\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 1\n    }, this), showCode && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"code-container\",\n      style: {\n        marginTop: '10px',\n        width: '60%'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: /*#__PURE__*/_jsxDEV(\"code\", {\n          children: `\n///Add Element to the Sorted Set\napp.post('/addElement', (req, res) => {\n    const { element, score } = req.body;\n    client.zadd('sortedSet', score, element, (err, reply) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        res.status(200).send({ added: true });\n    });\n});\n\n///Get All Elements from the Sorted Set\napp.get('/getAllElements', (req, res) => {\n    client.zrange('sortedSet', 0, -1, 'WITHSCORES', (err, elements) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        let result = [];\n        for (let i = 0; i < elements.length; i += 2) {\n            result.push({ element: elements[i], score: elements[i + 1] });\n        }\n        res.status(200).send(result);\n    });\n});\n\n///Update Score of an Element\napp.put('/updateScore', (req, res) => {\n    const { element, newScore } = req.body;\n    client.zadd('sortedSet', newScore, element, (err, reply) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        res.status(200).send({ updated: true });\n    });\n});\n\n///Fetch Ranked Elements\napp.get('/getRankedElements', (req, res) => {\n    client.zrevrange('sortedSet', 0, -1, 'WITHSCORES', (err, elements) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        let result = [];\n        for (let i = 0; i < elements.length; i += 2) {\n            result.push({ element: elements[i], score: elements[i + 1] });\n        }\n        res.status(200).send(result);\n    });\n});\n\n///Delete an Element\napp.delete('/deleteElement', (req, res) => {\n    const { element } = req.body;\n\n    client.zrem('sortedSet', element, (err, response) => {\n        if (err) {\n            return res.status(500).json({ message: \"Error deleting element\", error: err.message });\n        }\n        res.json({ message: \"Element deleted successfully\" });\n    });\n});\n\n///Fetch Ranked Elements for the Table\napp.get('/getRanking', async (req, res) => {\n    try {\n        const ranking = await getRankingFromRedis();\n        res.status(200).json(ranking);\n    } catch (error) {\n        console.error(\"Error:\", error);  // This will print the error details in the backend console\n        res.status(500).json({ message: \"Error fetching ranking\", error: error.message });\n    }\n    \n});\n\nconst getRankingFromRedis = async () => {\n    return new Promise((resolve, reject) => {\n        client.zrevrange('sortedSet', 0, -1, 'WITHSCORES', (err, result) => {\n            if (err) return reject(err);\n\n            let ranking = [];\n            for (let i = 0; i < result.length; i += 2) {\n                ranking.push({\n                    element: result[i],\n                    score: result[i + 1]\n                });\n            }\n            resolve(ranking);\n        });\n    });\n};\n\n                            `\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 9\n  }, this);\n}\n_s(Monitor, \"TPgYXwB/abBrql454eo3KxNwb/g=\");\n_c = Monitor;\nexport default Monitor;\nvar _c;\n$RefreshReg$(_c, \"Monitor\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Monitor","_s","output","setOutput","showCode","setShowCode","ws","WebSocket","onmessage","event","JSON","parse","data","close","className","children","join","fileName","_jsxFileName","lineNumber","columnNumber","style","width","display","justifyContent","marginTop","onClick","toggleCode","flex","_c","$RefreshReg$"],"sources":["/home/y4n/React_Apps/tool-box/frontend/src/components/Monitor.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nfunction Monitor() {\n    const [output, setOutput] = useState([]);\n    const [showCode, setShowCode] = useState(false);\n\n    useEffect(() => {\n        const ws = new WebSocket('ws://localhost:3001/monitor');\n\n        ws.onmessage = (event) => {\n            setOutput(JSON.parse(event.data));\n        };\n\n        return () => {\n            ws.close();\n        };\n    }, []);\n\n    return (\n        <div className=\"column\">\n            <pre>{output.join('\\n')}</pre>\n  {/* Show/Hide Code button */}\n<div style={{ width: '60%', display: 'flex', justifyContent: 'flex-start', marginTop: '10px' }}>\n        <button className=\"code-button\" onClick={toggleCode} style={{ flex: 1 }}>\n          {showCode ? \"Hide the Code\" : \"Show the Code\"}\n        </button>\n      </div>\n  \n      {showCode && (\n        <div className=\"code-container\" style={{ marginTop: '10px',width: '60%' }}>\n          <pre>\n            <code>\n                            {`\n///Add Element to the Sorted Set\napp.post('/addElement', (req, res) => {\n    const { element, score } = req.body;\n    client.zadd('sortedSet', score, element, (err, reply) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        res.status(200).send({ added: true });\n    });\n});\n\n///Get All Elements from the Sorted Set\napp.get('/getAllElements', (req, res) => {\n    client.zrange('sortedSet', 0, -1, 'WITHSCORES', (err, elements) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        let result = [];\n        for (let i = 0; i < elements.length; i += 2) {\n            result.push({ element: elements[i], score: elements[i + 1] });\n        }\n        res.status(200).send(result);\n    });\n});\n\n///Update Score of an Element\napp.put('/updateScore', (req, res) => {\n    const { element, newScore } = req.body;\n    client.zadd('sortedSet', newScore, element, (err, reply) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        res.status(200).send({ updated: true });\n    });\n});\n\n///Fetch Ranked Elements\napp.get('/getRankedElements', (req, res) => {\n    client.zrevrange('sortedSet', 0, -1, 'WITHSCORES', (err, elements) => {\n        if (err) {\n            res.status(500).send({ error: err.message });\n            return;\n        }\n        let result = [];\n        for (let i = 0; i < elements.length; i += 2) {\n            result.push({ element: elements[i], score: elements[i + 1] });\n        }\n        res.status(200).send(result);\n    });\n});\n\n///Delete an Element\napp.delete('/deleteElement', (req, res) => {\n    const { element } = req.body;\n\n    client.zrem('sortedSet', element, (err, response) => {\n        if (err) {\n            return res.status(500).json({ message: \"Error deleting element\", error: err.message });\n        }\n        res.json({ message: \"Element deleted successfully\" });\n    });\n});\n\n///Fetch Ranked Elements for the Table\napp.get('/getRanking', async (req, res) => {\n    try {\n        const ranking = await getRankingFromRedis();\n        res.status(200).json(ranking);\n    } catch (error) {\n        console.error(\"Error:\", error);  // This will print the error details in the backend console\n        res.status(500).json({ message: \"Error fetching ranking\", error: error.message });\n    }\n    \n});\n\nconst getRankingFromRedis = async () => {\n    return new Promise((resolve, reject) => {\n        client.zrevrange('sortedSet', 0, -1, 'WITHSCORES', (err, result) => {\n            if (err) return reject(err);\n\n            let ranking = [];\n            for (let i = 0; i < result.length; i += 2) {\n                ranking.push({\n                    element: result[i],\n                    score: result[i + 1]\n                });\n            }\n            resolve(ranking);\n        });\n    });\n};\n\n                            `}\n                        </code>\n                    </pre>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default Monitor;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACf,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAE/CC,SAAS,CAAC,MAAM;IACZ,MAAMS,EAAE,GAAG,IAAIC,SAAS,CAAC,6BAA6B,CAAC;IAEvDD,EAAE,CAACE,SAAS,GAAIC,KAAK,IAAK;MACtBN,SAAS,CAACO,IAAI,CAACC,KAAK,CAACF,KAAK,CAACG,IAAI,CAAC,CAAC;IACrC,CAAC;IAED,OAAO,MAAM;MACTN,EAAE,CAACO,KAAK,CAAC,CAAC;IACd,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,oBACId,OAAA;IAAKe,SAAS,EAAC,QAAQ;IAAAC,QAAA,gBACnBhB,OAAA;MAAAgB,QAAA,EAAMb,MAAM,CAACc,IAAI,CAAC,IAAI;IAAC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAE1CrB,OAAA;MAAKsB,KAAK,EAAE;QAAEC,KAAK,EAAE,KAAK;QAAEC,OAAO,EAAE,MAAM;QAAEC,cAAc,EAAE,YAAY;QAAEC,SAAS,EAAE;MAAO,CAAE;MAAAV,QAAA,eACvFhB,OAAA;QAAQe,SAAS,EAAC,aAAa;QAACY,OAAO,EAAEC,UAAW;QAACN,KAAK,EAAE;UAAEO,IAAI,EAAE;QAAE,CAAE;QAAAb,QAAA,EACrEX,QAAQ,GAAG,eAAe,GAAG;MAAe;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,EAELhB,QAAQ,iBACPL,OAAA;MAAKe,SAAS,EAAC,gBAAgB;MAACO,KAAK,EAAE;QAAEI,SAAS,EAAE,MAAM;QAACH,KAAK,EAAE;MAAM,CAAE;MAAAP,QAAA,eACxEhB,OAAA;QAAAgB,QAAA,eACEhB,OAAA;UAAAgB,QAAA,EACkB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QAA6B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CACR;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd;AAACnB,EAAA,CArIQD,OAAO;AAAA6B,EAAA,GAAP7B,OAAO;AAuIhB,eAAeA,OAAO;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}